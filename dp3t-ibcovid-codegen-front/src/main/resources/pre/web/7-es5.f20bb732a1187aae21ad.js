function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{w0Xt:function(e,t,r){"use strict";r.r(t),r.d(t,"BackendSdkModule",(function(){return x}));var o,i,n=r("tk/3"),d=r("1kSV"),c=r("tyNb"),a=r("fXoL"),u=r("OOyK"),l=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=a.Gb({type:o,selectors:[["app-backend-sdk"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Nb(0,"app-header"),a.Nb(1,"router-outlet"))},directives:[u.a,c.d],styles:[""]}),o),s=r("3Pt+"),b=r("AytR"),m=((i=function(){function e(t){_classCallCheck(this,e),this.httpClient=t}return _createClass(e,[{key:"getSDKConfiguration",value:function(){return this.httpClient.get(b.a.sdkConfigServiceHost+"/admin/config")}},{key:"updateSDKConfiguration",value:function(e){return this.httpClient.put(b.a.sdkConfigServiceHost+"/admin/config",e)}}]),e}()).\u0275fac=function(e){return new(e||i)(a.Zb(n.b))},i.\u0275prov=a.Ib({token:i,factory:i.\u0275fac,providedIn:"root"}),i),f=r("5eHb"),h=r("FMnn"),p=r("ofXK");function g(e,t){1&e&&(a.Rb(0,"span"),a.zc(1,"Recargar"),a.Qb())}function v(e,t){1&e&&a.Nb(0,"i",57)}function y(e,t){1&e&&(a.Rb(0,"span"),a.zc(1,"Guardar"),a.Qb())}function R(e,t){1&e&&a.Nb(0,"i",57)}var C,k,S,Q=[{path:"",redirectTo:"config"},{path:"config",component:l,children:[{path:"",component:(C=function(){function e(t,r,o){_classCallCheck(this,e),this.configSdkService=t,this.formBuilder=r,this.toastr=o}return _createClass(e,[{key:"ngOnInit",value:function(){this.configSdkForm=this.buildFormGroup(),this.getConfigSdk()}},{key:"updateConfigSdk",value:function(){var e=this;this._submittedSave=!0,this.configSdkService.updateSDKConfiguration(this.configSdkForm.value).subscribe((function(t){e.toastr.success("Los datos han sido guardados correctamente.","\xc9xito"),e._submittedSave=!1}),(function(t){e.handleCommonErrors("Error","Error al intentar actualizar los datos. Si persiste el error contacte con el administrador.",t),e._submittedSave=!1}))}},{key:"resetForm",value:function(){this.getConfigSdk()}},{key:"isSubmitting",value:function(){return this._submittedReset||this._submittedSave}},{key:"isNonValidForm",value:function(){return!this.configSdkForm.valid}},{key:"getConfigSdk",value:function(){var e=this;this._submittedReset=!0,this.configSdkService.getSDKConfiguration().subscribe((function(t){e.updateFormWithModel(t),e._submittedReset=!1}),(function(t){e.handleCommonErrors("Error","Error al intentar obtener los datos. Si persiste el error contacte con el administrador.",t),e._submittedReset=!1}))}},{key:"handleCommonErrors",value:function(e,t,r){var o=t;403===r.status&&(o="Error de autenticaci\xf3n. Es posible que haya caducado la sesi\xf3n, intente conectarse de nuevo."),this.toastr.error(o,e)}},{key:"updateFormWithModel",value:function(e){this.configSdkForm.reset(e)}},{key:"buildFormGroup",value:function(){return this.formBuilder.group({sdkConfig:this.formBuilder.group({numberOfWindowsForExposure:this.formBuilder.control(0,s.p.required),eventThreshold:this.formBuilder.control(0,s.p.required),badAttenuationThreshold:this.formBuilder.control(0,s.p.required),contactAttenuationThreshold:this.formBuilder.control(0,s.p.required)}),androidGaenSdkConfig:this.formBuilder.group({lowerThreshold:this.formBuilder.control(0,s.p.required),higherThreshold:this.formBuilder.control(0,s.p.required),factorLow:this.formBuilder.control(0,s.p.required),factorHigh:this.formBuilder.control(0,s.p.required),triggerThreshold:this.formBuilder.control(0,s.p.required)}),iOSGaenSdkConfig:this.formBuilder.group({lowerThreshold:this.formBuilder.control(0,s.p.required),higherThreshold:this.formBuilder.control(0,s.p.required),factorLow:this.formBuilder.control(0,s.p.required),factorHigh:this.formBuilder.control(0,s.p.required),triggerThreshold:this.formBuilder.control(0,s.p.required)}),forceUpdate:this.formBuilder.control(!1,s.p.required),forceTraceShutdown:this.formBuilder.control(!1,s.p.required)})}},{key:"submittedReset",get:function(){return this._submittedReset}},{key:"submittedSave",get:function(){return this._submittedSave}}]),e}(),C.\u0275fac=function(e){return new(e||C)(a.Mb(m),a.Mb(s.c),a.Mb(f.b))},C.\u0275cmp=a.Gb({type:C,selectors:[["app-config-sdk"]],decls:107,vars:7,consts:[[1,"config-sdk-container","component-container"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],[1,"page-title","mt-3","ml-3"],[1,"emphasized","h-100"],[3,"formGroup"],[1,"card","bg-white","shadow-sm","m-3"],[1,"card-header","bg-default"],["id","sdkConfigCardBody",1,"card-body"],["formGroupName","sdkConfig",1,"card-text","form-group"],[1,"d-flex","form-inline","justify-content-between"],["for","numberOfWindowsForExposure"],["digitOnly","","formControlName","numberOfWindowsForExposure","id","numberOfWindowsForExposure","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","eventThreshold"],["decimal","true","digitOnly","","formControlName","eventThreshold","id","eventThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","badAttenuationThreshold"],["decimal","true","digitOnly","","formControlName","badAttenuationThreshold","id","badAttenuationThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","contactAttenuationThreshold"],["decimal","true","digitOnly","","formControlName","contactAttenuationThreshold","id","contactAttenuationThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","androidGaenSdkConfigCardBody",1,"card-body"],["formGroupName","androidGaenSdkConfig",1,"card-text","form-group"],["for","androidLowerThreshold"],["digitOnly","","formControlName","lowerThreshold","id","androidLowerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidHigherThreshold"],["digitOnly","","formControlName","higherThreshold","id","androidHigherThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidFactorLow"],["decimal","true","digitOnly","","formControlName","factorLow","id","androidFactorLow","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidFactorHigh"],["decimal","true","digitOnly","","formControlName","factorHigh","id","androidFactorHigh","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidTriggerThreshold"],["digitOnly","","formControlName","triggerThreshold","id","androidTriggerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","iOSGaenSdkConfigCardBody",1,"card-body"],["formGroupName","iOSGaenSdkConfig",1,"card-text","form-group"],["for","iOSLowerThreshold"],["digitOnly","","formControlName","lowerThreshold","id","iOSLowerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSHigherThreshold"],["digitOnly","","formControlName","higherThreshold","id","iOSHigherThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSFactorLow"],["decimal","true","digitOnly","","formControlName","factorLow","id","iOSFactorLow","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSFactorHigh"],["decimal","true","digitOnly","","formControlName","factorHigh","id","iOSFactorHigh","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSTriggerThreshold"],["digitOnly","","formControlName","triggerThreshold","id","iOSTriggerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","othersCardBody",1,"card-body"],[1,"card-text","form-group"],["for","forceUpdate"],["formControlName","forceUpdate","id","forceUpdate","type","checkbox",1,"form-control"],["for","forceTraceShutdown"],["formControlName","forceTraceShutdown","id","forceTraceShutdown","type","checkbox",1,"form-control"],[1,"main-button-panel","container-fluid"],[1,"col-sm-12","d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[4,"ngIf"],["class","fa fa-lg fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-danger","m-1",3,"disabled","click"],[1,"fa","fa-lg","fa-spinner","fa-spin"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Nb(3,"div",3),a.Rb(4,"div",4),a.Rb(5,"section",5),a.Rb(6,"span",6),a.zc(7,"Configurar SDK"),a.Qb(),a.Qb(),a.Qb(),a.Nb(8,"div",3),a.Qb(),a.Rb(9,"div",2),a.Nb(10,"div",3),a.Rb(11,"div",4),a.Rb(12,"form",7),a.Rb(13,"section",8),a.Rb(14,"div",9),a.zc(15," SDK Config "),a.Qb(),a.Rb(16,"div",10),a.Rb(17,"div",11),a.Rb(18,"div",12),a.Rb(19,"label",13),a.zc(20,"Number of windows for exposure"),a.Qb(),a.Nb(21,"input",14),a.Qb(),a.Rb(22,"div",12),a.Rb(23,"label",15),a.zc(24,"Event threshold"),a.Qb(),a.Nb(25,"input",16),a.Qb(),a.Rb(26,"div",12),a.Rb(27,"label",17),a.zc(28,"Bad attenuation threshold"),a.Qb(),a.Nb(29,"input",18),a.Qb(),a.Rb(30,"div",12),a.Rb(31,"label",19),a.zc(32,"Contact attenuation threshold"),a.Qb(),a.Nb(33,"input",20),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(34,"section",8),a.Rb(35,"div",9),a.zc(36," Android GAES SDK "),a.Qb(),a.Rb(37,"div",21),a.Rb(38,"div",22),a.Rb(39,"div",12),a.Rb(40,"label",23),a.zc(41,"Lower threshold"),a.Qb(),a.Nb(42,"input",24),a.Qb(),a.Rb(43,"div",12),a.Rb(44,"label",25),a.zc(45,"Higher threshold"),a.Qb(),a.Nb(46,"input",26),a.Qb(),a.Rb(47,"div",12),a.Rb(48,"label",27),a.zc(49,"Factor low"),a.Qb(),a.Nb(50,"input",28),a.Qb(),a.Rb(51,"div",12),a.Rb(52,"label",29),a.zc(53,"Factor high"),a.Qb(),a.Nb(54,"input",30),a.Qb(),a.Rb(55,"div",12),a.Rb(56,"label",31),a.zc(57,"Trigger threshold"),a.Qb(),a.Nb(58,"input",32),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(59,"section",8),a.Rb(60,"div",9),a.zc(61," iOS GAES SDK "),a.Qb(),a.Rb(62,"div",33),a.Rb(63,"div",34),a.Rb(64,"div",12),a.Rb(65,"label",35),a.zc(66,"Lower threshold"),a.Qb(),a.Nb(67,"input",36),a.Qb(),a.Rb(68,"div",12),a.Rb(69,"label",37),a.zc(70,"Higher threshold"),a.Qb(),a.Nb(71,"input",38),a.Qb(),a.Rb(72,"div",12),a.Rb(73,"label",39),a.zc(74,"Factor low"),a.Qb(),a.Nb(75,"input",40),a.Qb(),a.Rb(76,"div",12),a.Rb(77,"label",41),a.zc(78,"Factor high"),a.Qb(),a.Nb(79,"input",42),a.Qb(),a.Rb(80,"div",12),a.Rb(81,"label",43),a.zc(82,"Trigger threshold"),a.Qb(),a.Nb(83,"input",44),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(84,"section",8),a.Rb(85,"div",9),a.zc(86," Others "),a.Qb(),a.Rb(87,"div",45),a.Rb(88,"div",46),a.Rb(89,"div",12),a.Rb(90,"label",47),a.zc(91,"Force update"),a.Qb(),a.Nb(92,"input",48),a.Qb(),a.Rb(93,"div",12),a.Rb(94,"label",49),a.zc(95,"Force trace shutdown"),a.Qb(),a.Nb(96,"input",50),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Rb(97,"section",51),a.Rb(98,"div",2),a.Rb(99,"div",52),a.Rb(100,"button",53),a.dc("click",(function(){return t.resetForm()})),a.xc(101,g,2,0,"span",54),a.xc(102,v,1,0,"i",55),a.Qb(),a.Rb(103,"button",56),a.dc("click",(function(){return t.updateConfigSdk()})),a.xc(104,y,2,0,"span",54),a.xc(105,R,1,0,"i",55),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Nb(106,"div",3),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.zb(12),a.ic("formGroup",t.configSdkForm),a.zb(88),a.ic("disabled",t.isSubmitting()),a.zb(1),a.ic("ngIf",!t.submittedReset),a.zb(1),a.ic("ngIf",t.submittedReset),a.zb(1),a.ic("disabled",t.isSubmitting()||t.isNonValidForm()),a.zb(1),a.ic("ngIf",!t.submittedSave),a.zb(1),a.ic("ngIf",t.submittedSave))},directives:[s.r,s.k,s.e,s.f,s.b,h.a,s.j,s.d,s.m,s.o,s.a,p.k],styles:[".config-sdk-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{min-width:1rem;width:2%}.config-sdk-container[_ngcontent-%COMP%]   .main-button-panel[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),C)}]}],w=((k=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:k}),k.\u0275inj=a.Jb({factory:function(e){return new(e||k)},imports:[[c.c.forChild(Q)],c.c]}),k),T=r("pKmL"),x=((S=function e(){_classCallCheck(this,e)}).\u0275mod=a.Kb({type:S}),S.\u0275inj=a.Jb({factory:function(e){return new(e||S)},providers:[p.d],imports:[[w,T.a,n.c,s.g,s.n,d.a,h.b]]}),S)}}]);