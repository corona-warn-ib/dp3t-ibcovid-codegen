(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{w0Xt:function(t,r,e){"use strict";e.r(r),e.d(r,"BackendSdkModule",(function(){return y}));var o=e("tk/3"),i=e("1kSV"),n=e("tyNb"),d=e("fXoL"),c=e("OOyK");let a=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=d.Gb({type:t,selectors:[["app-backend-sdk"]],decls:2,vars:0,template:function(t,r){1&t&&(d.Nb(0,"app-header"),d.Nb(1,"router-outlet"))},directives:[c.a,n.d],styles:[""]}),t})();var l=e("3Pt+"),u=e("AytR");let s=(()=>{class t{constructor(t){this.httpClient=t}getSDKConfiguration(){return this.httpClient.get(u.a.sdkConfigServiceHost+"/admin/config")}updateSDKConfiguration(t){return this.httpClient.put(u.a.sdkConfigServiceHost+"/admin/config",t)}}return t.\u0275fac=function(r){return new(r||t)(d.Zb(o.b))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=e("5eHb"),m=e("FMnn"),h=e("ofXK");function f(t,r){1&t&&(d.Rb(0,"span"),d.zc(1,"Recargar"),d.Qb())}function p(t,r){1&t&&d.Nb(0,"i",57)}function g(t,r){1&t&&(d.Rb(0,"span"),d.zc(1,"Guardar"),d.Qb())}function R(t,r){1&t&&d.Nb(0,"i",57)}const v=[{path:"",redirectTo:"config"},{path:"config",component:a,children:[{path:"",component:(()=>{class t{constructor(t,r,e){this.configSdkService=t,this.formBuilder=r,this.toastr=e}get submittedReset(){return this._submittedReset}get submittedSave(){return this._submittedSave}ngOnInit(){this.configSdkForm=this.buildFormGroup(),this.getConfigSdk()}updateConfigSdk(){this._submittedSave=!0,this.configSdkService.updateSDKConfiguration(this.configSdkForm.value).subscribe(t=>{this.toastr.success("Los datos han sido guardados correctamente.","\xc9xito"),this._submittedSave=!1},t=>{this.handleCommonErrors("Error","Error al intentar actualizar los datos. Si persiste el error contacte con el administrador.",t),this._submittedSave=!1})}resetForm(){this.getConfigSdk()}isSubmitting(){return this._submittedReset||this._submittedSave}isNonValidForm(){return!this.configSdkForm.valid}getConfigSdk(){this._submittedReset=!0,this.configSdkService.getSDKConfiguration().subscribe(t=>{this.updateFormWithModel(t),this._submittedReset=!1},t=>{this.handleCommonErrors("Error","Error al intentar obtener los datos. Si persiste el error contacte con el administrador.",t),this._submittedReset=!1})}handleCommonErrors(t,r,e){let o=r;403===e.status&&(o="Error de autenticaci\xf3n. Es posible que haya caducado la sesi\xf3n, intente conectarse de nuevo."),this.toastr.error(o,t)}updateFormWithModel(t){this.configSdkForm.reset(t)}buildFormGroup(){return this.formBuilder.group({sdkConfig:this.formBuilder.group({numberOfWindowsForExposure:this.formBuilder.control(0,l.p.required),eventThreshold:this.formBuilder.control(0,l.p.required),badAttenuationThreshold:this.formBuilder.control(0,l.p.required),contactAttenuationThreshold:this.formBuilder.control(0,l.p.required)}),androidGaenSdkConfig:this.formBuilder.group({lowerThreshold:this.formBuilder.control(0,l.p.required),higherThreshold:this.formBuilder.control(0,l.p.required),factorLow:this.formBuilder.control(0,l.p.required),factorHigh:this.formBuilder.control(0,l.p.required),triggerThreshold:this.formBuilder.control(0,l.p.required)}),iOSGaenSdkConfig:this.formBuilder.group({lowerThreshold:this.formBuilder.control(0,l.p.required),higherThreshold:this.formBuilder.control(0,l.p.required),factorLow:this.formBuilder.control(0,l.p.required),factorHigh:this.formBuilder.control(0,l.p.required),triggerThreshold:this.formBuilder.control(0,l.p.required)}),forceUpdate:this.formBuilder.control(!1,l.p.required),forceTraceShutdown:this.formBuilder.control(!1,l.p.required)})}}return t.\u0275fac=function(r){return new(r||t)(d.Mb(s),d.Mb(l.c),d.Mb(b.b))},t.\u0275cmp=d.Gb({type:t,selectors:[["app-config-sdk"]],decls:107,vars:7,consts:[[1,"config-sdk-container","component-container"],[1,"container-fluid"],[1,"row"],[1,"col-md-2"],[1,"col-md-8"],[1,"page-title","mt-3","ml-3"],[1,"emphasized","h-100"],[3,"formGroup"],[1,"card","bg-white","shadow-sm","m-3"],[1,"card-header","bg-default"],["id","sdkConfigCardBody",1,"card-body"],["formGroupName","sdkConfig",1,"card-text","form-group"],[1,"d-flex","form-inline","justify-content-between"],["for","numberOfWindowsForExposure"],["digitOnly","","formControlName","numberOfWindowsForExposure","id","numberOfWindowsForExposure","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","eventThreshold"],["decimal","true","digitOnly","","formControlName","eventThreshold","id","eventThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","badAttenuationThreshold"],["decimal","true","digitOnly","","formControlName","badAttenuationThreshold","id","badAttenuationThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","contactAttenuationThreshold"],["decimal","true","digitOnly","","formControlName","contactAttenuationThreshold","id","contactAttenuationThreshold","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","androidGaenSdkConfigCardBody",1,"card-body"],["formGroupName","androidGaenSdkConfig",1,"card-text","form-group"],["for","androidLowerThreshold"],["digitOnly","","formControlName","lowerThreshold","id","androidLowerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidHigherThreshold"],["digitOnly","","formControlName","higherThreshold","id","androidHigherThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidFactorLow"],["decimal","true","digitOnly","","formControlName","factorLow","id","androidFactorLow","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidFactorHigh"],["decimal","true","digitOnly","","formControlName","factorHigh","id","androidFactorHigh","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","androidTriggerThreshold"],["digitOnly","","formControlName","triggerThreshold","id","androidTriggerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","iOSGaenSdkConfigCardBody",1,"card-body"],["formGroupName","iOSGaenSdkConfig",1,"card-text","form-group"],["for","iOSLowerThreshold"],["digitOnly","","formControlName","lowerThreshold","id","iOSLowerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSHigherThreshold"],["digitOnly","","formControlName","higherThreshold","id","iOSHigherThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSFactorLow"],["decimal","true","digitOnly","","formControlName","factorLow","id","iOSFactorLow","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSFactorHigh"],["decimal","true","digitOnly","","formControlName","factorHigh","id","iOSFactorHigh","inputmode","numeric","required","","type","text",1,"form-control","small-numeric-input","text-right"],["for","iOSTriggerThreshold"],["digitOnly","","formControlName","triggerThreshold","id","iOSTriggerThreshold","inputmode","numeric","pattern","[0-9]*","required","","type","text",1,"form-control","small-numeric-input","text-right"],["id","othersCardBody",1,"card-body"],[1,"card-text","form-group"],["for","forceUpdate"],["formControlName","forceUpdate","id","forceUpdate","type","checkbox",1,"form-control"],["for","forceTraceShutdown"],["formControlName","forceTraceShutdown","id","forceTraceShutdown","type","checkbox",1,"form-control"],[1,"main-button-panel","container-fluid"],[1,"col-sm-12","d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[4,"ngIf"],["class","fa fa-lg fa-spinner fa-spin",4,"ngIf"],["type","button",1,"btn","btn-danger","m-1",3,"disabled","click"],[1,"fa","fa-lg","fa-spinner","fa-spin"]],template:function(t,r){1&t&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Nb(3,"div",3),d.Rb(4,"div",4),d.Rb(5,"section",5),d.Rb(6,"span",6),d.zc(7,"Configurar SDK"),d.Qb(),d.Qb(),d.Qb(),d.Nb(8,"div",3),d.Qb(),d.Rb(9,"div",2),d.Nb(10,"div",3),d.Rb(11,"div",4),d.Rb(12,"form",7),d.Rb(13,"section",8),d.Rb(14,"div",9),d.zc(15," SDK Config "),d.Qb(),d.Rb(16,"div",10),d.Rb(17,"div",11),d.Rb(18,"div",12),d.Rb(19,"label",13),d.zc(20,"Number of windows for exposure"),d.Qb(),d.Nb(21,"input",14),d.Qb(),d.Rb(22,"div",12),d.Rb(23,"label",15),d.zc(24,"Event threshold"),d.Qb(),d.Nb(25,"input",16),d.Qb(),d.Rb(26,"div",12),d.Rb(27,"label",17),d.zc(28,"Bad attenuation threshold"),d.Qb(),d.Nb(29,"input",18),d.Qb(),d.Rb(30,"div",12),d.Rb(31,"label",19),d.zc(32,"Contact attenuation threshold"),d.Qb(),d.Nb(33,"input",20),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(34,"section",8),d.Rb(35,"div",9),d.zc(36," Android GAES SDK "),d.Qb(),d.Rb(37,"div",21),d.Rb(38,"div",22),d.Rb(39,"div",12),d.Rb(40,"label",23),d.zc(41,"Lower threshold"),d.Qb(),d.Nb(42,"input",24),d.Qb(),d.Rb(43,"div",12),d.Rb(44,"label",25),d.zc(45,"Higher threshold"),d.Qb(),d.Nb(46,"input",26),d.Qb(),d.Rb(47,"div",12),d.Rb(48,"label",27),d.zc(49,"Factor low"),d.Qb(),d.Nb(50,"input",28),d.Qb(),d.Rb(51,"div",12),d.Rb(52,"label",29),d.zc(53,"Factor high"),d.Qb(),d.Nb(54,"input",30),d.Qb(),d.Rb(55,"div",12),d.Rb(56,"label",31),d.zc(57,"Trigger threshold"),d.Qb(),d.Nb(58,"input",32),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(59,"section",8),d.Rb(60,"div",9),d.zc(61," iOS GAES SDK "),d.Qb(),d.Rb(62,"div",33),d.Rb(63,"div",34),d.Rb(64,"div",12),d.Rb(65,"label",35),d.zc(66,"Lower threshold"),d.Qb(),d.Nb(67,"input",36),d.Qb(),d.Rb(68,"div",12),d.Rb(69,"label",37),d.zc(70,"Higher threshold"),d.Qb(),d.Nb(71,"input",38),d.Qb(),d.Rb(72,"div",12),d.Rb(73,"label",39),d.zc(74,"Factor low"),d.Qb(),d.Nb(75,"input",40),d.Qb(),d.Rb(76,"div",12),d.Rb(77,"label",41),d.zc(78,"Factor high"),d.Qb(),d.Nb(79,"input",42),d.Qb(),d.Rb(80,"div",12),d.Rb(81,"label",43),d.zc(82,"Trigger threshold"),d.Qb(),d.Nb(83,"input",44),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(84,"section",8),d.Rb(85,"div",9),d.zc(86," Others "),d.Qb(),d.Rb(87,"div",45),d.Rb(88,"div",46),d.Rb(89,"div",12),d.Rb(90,"label",47),d.zc(91,"Force update"),d.Qb(),d.Nb(92,"input",48),d.Qb(),d.Rb(93,"div",12),d.Rb(94,"label",49),d.zc(95,"Force trace shutdown"),d.Qb(),d.Nb(96,"input",50),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(97,"section",51),d.Rb(98,"div",2),d.Rb(99,"div",52),d.Rb(100,"button",53),d.dc("click",(function(){return r.resetForm()})),d.xc(101,f,2,0,"span",54),d.xc(102,p,1,0,"i",55),d.Qb(),d.Rb(103,"button",56),d.dc("click",(function(){return r.updateConfigSdk()})),d.xc(104,g,2,0,"span",54),d.xc(105,R,1,0,"i",55),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Nb(106,"div",3),d.Qb(),d.Qb(),d.Qb()),2&t&&(d.zb(12),d.ic("formGroup",r.configSdkForm),d.zb(88),d.ic("disabled",r.isSubmitting()),d.zb(1),d.ic("ngIf",!r.submittedReset),d.zb(1),d.ic("ngIf",r.submittedReset),d.zb(1),d.ic("disabled",r.isSubmitting()||r.isNonValidForm()),d.zb(1),d.ic("ngIf",!r.submittedSave),d.zb(1),d.ic("ngIf",r.submittedSave))},directives:[l.r,l.k,l.e,l.f,l.b,m.a,l.j,l.d,l.m,l.o,l.a,h.k],styles:[".config-sdk-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{min-width:1rem;width:2%}.config-sdk-container[_ngcontent-%COMP%]   .main-button-panel[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),t})()}]}];let S=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(r){return new(r||t)},imports:[[n.c.forChild(v)],n.c]}),t})();var Q=e("pKmL");let y=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(r){return new(r||t)},providers:[h.d],imports:[[S,Q.a,o.c,l.g,l.n,i.a,m.b]]}),t})()}}]);